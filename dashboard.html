<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Mitra - Kantin Q</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Toggle Switch Style */
        .toggle-checkbox:checked {
            right: 0;
            border-color: #10B981;
        }
        .toggle-checkbox:checked + .toggle-label {
            background-color: #10B981;
        }
    </style>
</head>
<body class="bg-gray-100 font-sans text-gray-800 pb-20">

    <header class="bg-blue-800 text-white p-4 shadow-lg sticky top-0 z-30">
        <div class="flex justify-between items-center">
            <div class="flex items-center">
                <div class="relative">
                    <img src="https://images.unsplash.com/photo-1603064752734-4c48eff53d05?w=100&q=80" class="w-10 h-10 rounded-full border-2 border-green-400 object-cover mr-3">
                    <div class="absolute bottom-0 right-3 w-3 h-3 bg-green-400 rounded-full border border-white"></div>
                </div>
                <div>
                    <h1 class="font-bold text-lg leading-none">Ayam Mas Budi</h1>
                    <p class="text-[10px] text-blue-200 uppercase tracking-wider font-bold mt-1">Status: BUKA</p>
                </div>
            </div>
            <button onclick="window.location.href='login.html'" class="bg-blue-700 hover:bg-blue-600 p-2 rounded-lg text-xs font-bold transition">
                <i class="fas fa-power-off mr-1"></i> Tutup
            </button>
        </div>
    </header>

    <div class="grid grid-cols-2 gap-4 p-4 -mt-2">
        <div class="bg-white p-4 rounded-xl shadow-sm border-l-4 border-blue-500">
            <p class="text-xs text-gray-400 font-bold uppercase">Order Masuk</p>
            <h2 class="text-2xl font-bold text-gray-800">12</h2>
            <p class="text-[10px] text-green-500 font-bold"><i class="fas fa-arrow-up"></i> 4 Baru</p>
        </div>
        <div class="bg-white p-4 rounded-xl shadow-sm border-l-4 border-green-500">
            <p class="text-xs text-gray-400 font-bold uppercase">Omzet Hari Ini</p>
            <h2 class="text-2xl font-bold text-gray-800">Rp 450rb</h2>
            <p class="text-[10px] text-gray-400">Kemarin: Rp 320rb</p>
        </div>
    </div>

    <div class="px-4 mb-4">
        <div class="bg-white rounded-xl shadow-sm p-1 flex">
            <button onclick="switchTab('pesanan')" id="tab-pesanan" class="flex-1 py-2 text-xs font-bold rounded-lg bg-blue-100 text-blue-700 transition">
                <i class="fas fa-clipboard-list mr-1"></i> Pesanan
            </button>
            <button onclick="switchTab('menu')" id="tab-menu" class="flex-1 py-2 text-xs font-bold rounded-lg text-gray-500 hover:bg-gray-50 transition">
                <i class="fas fa-utensils mr-1"></i> Kelola Menu
            </button>
            <button onclick="switchTab('laporan')" id="tab-laporan" class="flex-1 py-2 text-xs font-bold rounded-lg text-gray-500 hover:bg-gray-50 transition">
                <i class="fas fa-chart-pie mr-1"></i> Laporan
            </button>
        </div>
    </div>

    <div id="view-pesanan" class="px-4 space-y-4 fade-in pb-20">
        
        <div class="flex space-x-2 overflow-x-auto hide-scroll pb-1">
            <span class="px-3 py-1 bg-blue-600 text-white text-xs font-bold rounded-full whitespace-nowrap">Baru (2)</span>
            <span class="px-3 py-1 bg-white border border-gray-200 text-gray-500 text-xs font-bold rounded-full whitespace-nowrap">Diproses (5)</span>
            <span class="px-3 py-1 bg-white border border-gray-200 text-gray-500 text-xs font-bold rounded-full whitespace-nowrap">Selesai (8)</span>
        </div>

        <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden" id="order-card-1">
            <div class="bg-yellow-50 px-4 py-2 border-b border-yellow-100 flex justify-between items-center">
                <span class="text-xs font-bold text-yellow-700"><i class="fas fa-bell animate-bounce mr-1"></i> Pesanan Baru</span>
                <span class="text-xs text-gray-400">11:05</span>
            </div>
            <div class="p-4">
                <div class="flex justify-between items-start mb-3">
                    <div>
                        <h3 class="font-bold text-lg text-gray-800">Lionel Gibran</h3>
                        <p class="text-xs text-blue-600 font-bold bg-blue-50 inline-block px-1 rounded">A-045</p>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-bold text-gray-800">Rp 35.000</p>
                        <p class="text-[10px] text-green-600 font-bold">Lunas (QRIS)</p>
                    </div>
                </div>
                
                <div class="bg-gray-50 p-2 rounded-lg text-sm text-gray-600 space-y-1 mb-4">
                    <p>1x Paket Ayam Geprek <span class="text-red-500 font-bold text-xs">(Pedas, Paha Atas)</span></p>
                    <p>1x Es Teh Manis</p>
                </div>

                <div class="flex space-x-2">
                    <button onclick="removeOrder('order-card-1')" class="flex-1 bg-red-50 text-red-600 font-bold py-2 rounded-lg text-xs hover:bg-red-100">
                        Tolak
                    </button>
                    <button onclick="processOrder('order-card-1')" class="flex-[2] bg-blue-600 text-white font-bold py-2 rounded-lg text-xs hover:bg-blue-700 shadow-lg">
                        Terima & Masak
                    </button>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden" id="order-card-2">
            <div class="bg-blue-50 px-4 py-2 border-b border-blue-100 flex justify-between items-center">
                <span class="text-xs font-bold text-blue-700"><i class="fas fa-fire mr-1"></i> Sedang Dimasak</span>
                <span class="text-xs text-gray-400">10:58</span>
            </div>
            <div class="p-4">
                <div class="flex justify-between items-start mb-3">
                    <div>
                        <h3 class="font-bold text-lg text-gray-800">Azka Nazalla</h3>
                        <p class="text-xs text-blue-600 font-bold bg-blue-50 inline-block px-1 rounded">A-042</p>
                    </div>
                    <div class="text-right">
                        <p class="text-sm font-bold text-gray-800">Rp 12.000</p>
                        <p class="text-[10px] text-green-600 font-bold">Lunas (VA)</p>
                    </div>
                </div>
                
                <div class="bg-gray-50 p-2 rounded-lg text-sm text-gray-600 space-y-1 mb-4">
                    <p>1x Nasi Telur Dadar <span class="text-gray-400 text-xs">(Tanpa Sambal)</span></p>
                </div>

                <button onclick="finishOrder('order-card-2')" class="w-full bg-green-500 text-white font-bold py-2 rounded-lg text-xs hover:bg-green-600 shadow-md">
                    <i class="fas fa-check mr-1"></i> Makanan Siap (Notifikasi User)
                </button>
            </div>
        </div>

    </div>

    <div id="view-menu" class="hidden px-4 space-y-4 fade-in pb-20">
        
        <div class="flex justify-between items-center mb-2">
            <h3 class="font-bold text-gray-700">Daftar Menu Aktif</h3>
            <button class="bg-blue-600 text-white text-xs px-3 py-1.5 rounded-lg font-bold">
                <a href="tambahmenu.html">
                    <i class="fas fa-plus mr-1"></i> Tambah
                </a>
            </button>
        </div>

        <div class="bg-white p-3 rounded-xl shadow-sm border border-gray-200 flex items-center justify-between">
            <div class="flex items-center">
                <img src="https://images.unsplash.com/photo-1603064752734-4c48eff53d05?w=100&q=80" class="w-12 h-12 rounded-lg object-cover mr-3">
                <div>
                    <h4 class="font-bold text-sm">Ayam Geprek</h4>
                    <p class="text-xs text-gray-500">Rp 18.000</p>
                </div>
            </div>
            <div class="flex flex-col items-end">
                <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                    <input type="checkbox" name="toggle" id="toggle1" class="toggle-checkbox absolute block w-5 h-5 rounded-full bg-white border-4 appearance-none cursor-pointer border-gray-300 left-0 transition-all duration-300" checked/>
                    <label for="toggle1" class="toggle-label block overflow-hidden h-5 rounded-full bg-gray-300 cursor-pointer transition-colors duration-300"></label>
                </div>
                <span class="text-[10px] text-green-600 font-bold mt-1">Tersedia</span>
            </div>
        </div>

        <div class="bg-white p-3 rounded-xl shadow-sm border border-gray-200 flex items-center justify-between opacity-75">
            <div class="flex items-center">
                <img src="https://images.unsplash.com/photo-1512058564366-18510be2db19?w=100&q=80" class="w-12 h-12 rounded-lg object-cover mr-3 grayscale">
                <div>
                    <h4 class="font-bold text-sm text-gray-600">Soto Ayam</h4>
                    <p class="text-xs text-gray-500">Rp 12.000</p>
                </div>
            </div>
            <div class="flex flex-col items-end">
                <div class="relative inline-block w-10 mr-2 align-middle select-none transition duration-200 ease-in">
                    <input type="checkbox" name="toggle" id="toggle2" class="toggle-checkbox absolute block w-5 h-5 rounded-full bg-white border-4 appearance-none cursor-pointer border-gray-300 left-0 transition-all duration-300"/>
                    <label for="toggle2" class="toggle-label block overflow-hidden h-5 rounded-full bg-gray-300 cursor-pointer transition-colors duration-300"></label>
                </div>
                <span class="text-[10px] text-red-500 font-bold mt-1">Habis</span>
            </div>
        </div>

    </div>

    <div id="view-laporan" class="hidden px-4 space-y-4 fade-in pb-20">
        <div class="bg-white p-6 rounded-xl shadow-sm text-center">
            <i class="fas fa-chart-line text-4xl text-blue-200 mb-3"></i>
            <h3 class="font-bold text-gray-800">Laporan Keuangan</h3>
            <p class="text-sm text-gray-500 mb-4">Fitur Laporan Bulanan (EO Complex)</p>
            <button class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-bold w-full">
                Download PDF
            </button>
        </div>
    </div>

    <script>
        // 1. Switch Tab
        function switchTab(tabName) {
            // Hide all views
            document.getElementById('view-pesanan').classList.add('hidden');
            document.getElementById('view-menu').classList.add('hidden');
            document.getElementById('view-laporan').classList.add('hidden');
            
            // Reset Tab Styles
            const tabs = ['pesanan', 'menu', 'laporan'];
            tabs.forEach(t => {
                const btn = document.getElementById('tab-' + t);
                btn.className = "flex-1 py-2 text-xs font-bold rounded-lg text-gray-500 hover:bg-gray-50 transition";
            });

            // Show selected view & Highlight Tab
            document.getElementById('view-' + tabName).classList.remove('hidden');
            document.getElementById('tab-' + tabName).className = "flex-1 py-2 text-xs font-bold rounded-lg bg-blue-100 text-blue-700 transition";
        }

        // 2. Logika Terima Pesanan
        function processOrder(cardId) {
            const card = document.getElementById(cardId);
            const btn = card.querySelector('button.bg-blue-600'); // Tombol Terima
            
            // Efek Loading
            btn.innerHTML = '<i class="fas fa-circle-notch fa-spin"></i>';
            
            setTimeout(() => {
                // Ubah Header jadi Diproses
                const header = card.querySelector('.bg-yellow-50');
                header.className = "bg-blue-50 px-4 py-2 border-b border-blue-100 flex justify-between items-center";
                header.innerHTML = '<span class="text-xs font-bold text-blue-700"><i class="fas fa-fire mr-1"></i> Sedang Dimasak</span><span class="text-xs text-gray-400">Baru Saja</span>';

                // Ubah Tombol Bawah
                const actionArea = card.querySelector('.flex.space-x-2'); // Area tombol
                // Ganti dengan tombol "Selesai"
                actionArea.innerHTML = `
                    <button onclick="finishOrder('${cardId}')" class="w-full bg-green-500 text-white font-bold py-2 rounded-lg text-xs hover:bg-green-600 shadow-md fade-in">
                        <i class="fas fa-check mr-1"></i> Makanan Siap
                    </button>
                `;
            }, 1000);
        }

        // 3. Logika Selesai Pesanan (Kirim Notif)
        function finishOrder(cardId) {
            const card = document.getElementById(cardId);
            card.style.transform = "translateX(100%)";
            card.style.transition = "transform 0.5s ease";
            
            setTimeout(() => {
                card.style.display = "none";
                alert("Notifikasi dikirim ke Mahasiswa: 'Pesanan Siap Diambil!'");
            }, 500);
        }

        // 4. Tolak Pesanan
        function removeOrder(cardId) {
            if(confirm("Tolak pesanan ini?")) {
                const card = document.getElementById(cardId);
                card.remove();
            }
        }
    </script>
</body>
</html>